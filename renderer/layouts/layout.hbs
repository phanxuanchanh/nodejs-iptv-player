<html>

<head>
    <title>IPTV Player</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        html {
            visibility: hidden;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-dark px-3 sticky-top py-3">
        {{#ifCond enableBackBtn '===' true}}
        <!-- Back -->
        <button class="btn btn-sm me-2 p-2 text-white btn-func" id="btn-back" title="Go back">
            <i class="fa fa-lg fa-arrow-left"></i>
        </button>
        {{/ifCond}}

        <!-- Các chức năng chính -->
        <div class="d-flex flex-wrap align-items-center">
            <button class="btn btn-sm me-2 p-2 text-danger btn-func" id="btn-favorite" title="Favorite list">
                <i class="fa fa-lg fa-heart"></i>
            </button>
            <button class="btn btn-sm me-2 p-2 text-white btn-func" id="btn-all-channels" title="All channels">
                <i class="fa fa-lg fa-tv"></i>
            </button>
            <div class="dropdown">
                <button class="btn btn-sm me-2 p-2 text-white btn-func" id="btn-categories" data-bs-toggle="dropdown"
                    aria-expanded="false" title="Categories">
                    <i class="fa fa-lg fa-list"></i>
                </button>
                <ul class="dropdown-menu bg-dark" aria-labelledby="btn-categories">
                    <li><a class="dropdown-item text-white" href="#">Item 1</a></li>
                    <li><a class="dropdown-item text-white" href="#">Item 2</a></li>
                    <li><a class="dropdown-item text-white" href="#">Item 3</a></li>
                </ul>
            </div>
        </div>

        <!-- Bên phải: search và playlist -->
        <div class="ms-auto d-flex align-items-center">
            <!-- Search -->
            <input class="form-control form-control-sm me-2" type="search" placeholder="Search" aria-label="Search">

            <!-- Chọn playlist -->
            <select class="form-select form-select-sm me-2" id="selectPlaylist" style="width: 150px;">
                {{#each playlists}}
                {{#if selectedPlaylistId}}
                <option>Choose playlist</option>
                {{/if}}
                {{#ifCond this.id '===' selectedPlaylistId}}
                <option value="{{this.id}}" selected>{{this.urlOrFileName}}</option>
                {{else}}
                <option value="{{this.id}}">{{this.urlOrFileName}}</option>
                {{/ifCond}}
                {{/each}}
            </select>

            <button class="btn btn-sm me-2 p-2 text-white btn-func" data-bs-toggle="modal"
                data-bs-target="#addM3U8Modal" title="Add M3U link">
                <i class="fa fa-lg fa-plus"></i>
            </button>
            <button class="btn btn-sm me-2 p-2 text-white btn-func" id="about" title="About This App">
                <i class="fa fa-lg fa-info"></i>
            </button>
        </div>
    </nav>

    <div class="container-fluid mt-3">
        {{{body}}}
    </div>

    <!-- Modal -->
    <div class="modal fade" id="addM3U8Modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bg-dark text-light">
                <div class="modal-header">
                    <h5 class="modal-title">Enter M3U link</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <input type="text" class="form-control" id="m3u8link" value="" placeholder="" required />
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnM3u8Submit" class="btn btn-sm btn-success">Submit</button>
                    <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>